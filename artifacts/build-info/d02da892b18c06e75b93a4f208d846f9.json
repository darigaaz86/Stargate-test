{"id":"d02da892b18c06e75b93a4f208d846f9","_format":"hh-sol-build-info-1","solcVersion":"0.8.28","solcLongVersion":"0.8.28+commit.7893614a","input":{"language":"Solidity","sources":{"contracts/interfaces/IStargateFeeLib.sol":{"content":"// SPDX-License-Identifier: BUSL-1.1\npragma solidity ^0.8.0;\n\n/// @notice Parameters used to assess fees to send tokens to a destination endpoint.\nstruct FeeParams {\n    address sender;\n    uint32 dstEid;\n    uint64 amountInSD;\n    uint64 deficitSD;\n    bool toOFT;\n    bool isTaxi;\n}\n\n/// @title Interface for assessing fees to send tokens to a destination endpoint.\ninterface IStargateFeeLib {\n    /// @notice Apply a fee for a given request, allowing for state modification.\n    /// @dev This is included for future proofing potential implementations\n    /// @dev where state is modified in the feeLib based on a FeeParams\n\n    function applyFee(FeeParams calldata _params) external returns (uint64 amountOutSD);\n    /// @notice Apply a fee for a given request, without modifying state.\n    function applyFeeView(FeeParams calldata _params) external view returns (uint64 amountOutSD);\n}\n"},"contracts/MockStargateFeeLib.sol":{"content":"// SPDX-License-Identifier: BUSL-1.1\npragma solidity ^0.8.22;\n\nimport { IStargateFeeLib, FeeParams } from \"./interfaces/IStargateFeeLib.sol\";\n\ncontract MockStargateFeeLib is IStargateFeeLib {\n    // Mock implementation for applyFee\n    function applyFee(FeeParams calldata _params) external pure override returns (uint64 amountOutSD) {\n        // Example logic: Deduct a flat 1% fee from the amountInSD\n        uint64 fee = _params.amountInSD / 100; // 1% fee\n        amountOutSD = _params.amountInSD - fee;\n        return amountOutSD;\n    }\n\n    // Mock implementation for applyFeeView\n    function applyFeeView(FeeParams calldata _params) external pure override returns (uint64 amountOutSD) {\n        // Same logic as applyFee for testing purposes\n        uint64 fee = _params.amountInSD / 100; // 1% fee\n        amountOutSD = _params.amountInSD - fee;\n    }\n}"}},"settings":{"optimizer":{"enabled":true,"runs":200},"evmVersion":"paris","outputSelection":{"*":{"*":["abi","evm.bytecode","evm.deployedBytecode","evm.methodIdentifiers","metadata"],"":["ast"]}}}},"output":{"sources":{"contracts/MockStargateFeeLib.sol":{"ast":{"absolutePath":"contracts/MockStargateFeeLib.sol","exportedSymbols":{"FeeParams":[73],"IStargateFeeLib":[93],"MockStargateFeeLib":[57]},"id":58,"license":"BUSL-1.1","nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","^","0.8",".22"],"nodeType":"PragmaDirective","src":"37:24:0"},{"absolutePath":"contracts/interfaces/IStargateFeeLib.sol","file":"./interfaces/IStargateFeeLib.sol","id":4,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":58,"sourceUnit":94,"src":"63:78:0","symbolAliases":[{"foreign":{"id":2,"name":"IStargateFeeLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":93,"src":"72:15:0","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":3,"name":"FeeParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73,"src":"89:9:0","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"abstract":false,"baseContracts":[{"baseName":{"id":5,"name":"IStargateFeeLib","nameLocations":["174:15:0"],"nodeType":"IdentifierPath","referencedDeclaration":93,"src":"174:15:0"},"id":6,"nodeType":"InheritanceSpecifier","src":"174:15:0"}],"canonicalName":"MockStargateFeeLib","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":57,"linearizedBaseContracts":[57,93],"name":"MockStargateFeeLib","nameLocation":"152:18:0","nodeType":"ContractDefinition","nodes":[{"baseFunctions":[83],"body":{"id":31,"nodeType":"Block","src":"334:207:0","statements":[{"assignments":[16],"declarations":[{"constant":false,"id":16,"mutability":"mutable","name":"fee","nameLocation":"418:3:0","nodeType":"VariableDeclaration","scope":31,"src":"411:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":15,"name":"uint64","nodeType":"ElementaryTypeName","src":"411:6:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"id":21,"initialValue":{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":20,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":17,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9,"src":"424:7:0","typeDescriptions":{"typeIdentifier":"t_struct$_FeeParams_$73_calldata_ptr","typeString":"struct FeeParams calldata"}},"id":18,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"432:10:0","memberName":"amountInSD","nodeType":"MemberAccess","referencedDeclaration":66,"src":"424:18:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"313030","id":19,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"445:3:0","typeDescriptions":{"typeIdentifier":"t_rational_100_by_1","typeString":"int_const 100"},"value":"100"},"src":"424:24:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"VariableDeclarationStatement","src":"411:37:0"},{"expression":{"id":27,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":22,"name":"amountOutSD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13,"src":"468:11:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":26,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":23,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9,"src":"482:7:0","typeDescriptions":{"typeIdentifier":"t_struct$_FeeParams_$73_calldata_ptr","typeString":"struct FeeParams calldata"}},"id":24,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"490:10:0","memberName":"amountInSD","nodeType":"MemberAccess","referencedDeclaration":66,"src":"482:18:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":25,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16,"src":"503:3:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"482:24:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"468:38:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":28,"nodeType":"ExpressionStatement","src":"468:38:0"},{"expression":{"id":29,"name":"amountOutSD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13,"src":"523:11:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"functionReturnParameters":14,"id":30,"nodeType":"Return","src":"516:18:0"}]},"functionSelector":"43d9564d","id":32,"implemented":true,"kind":"function","modifiers":[],"name":"applyFee","nameLocation":"245:8:0","nodeType":"FunctionDefinition","overrides":{"id":11,"nodeType":"OverrideSpecifier","overrides":[],"src":"296:8:0"},"parameters":{"id":10,"nodeType":"ParameterList","parameters":[{"constant":false,"id":9,"mutability":"mutable","name":"_params","nameLocation":"273:7:0","nodeType":"VariableDeclaration","scope":32,"src":"254:26:0","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_FeeParams_$73_calldata_ptr","typeString":"struct FeeParams"},"typeName":{"id":8,"nodeType":"UserDefinedTypeName","pathNode":{"id":7,"name":"FeeParams","nameLocations":["254:9:0"],"nodeType":"IdentifierPath","referencedDeclaration":73,"src":"254:9:0"},"referencedDeclaration":73,"src":"254:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_FeeParams_$73_storage_ptr","typeString":"struct FeeParams"}},"visibility":"internal"}],"src":"253:28:0"},"returnParameters":{"id":14,"nodeType":"ParameterList","parameters":[{"constant":false,"id":13,"mutability":"mutable","name":"amountOutSD","nameLocation":"321:11:0","nodeType":"VariableDeclaration","scope":32,"src":"314:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":12,"name":"uint64","nodeType":"ElementaryTypeName","src":"314:6:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"src":"313:20:0"},"scope":57,"src":"236:305:0","stateMutability":"pure","virtual":false,"visibility":"external"},{"baseFunctions":[92],"body":{"id":55,"nodeType":"Block","src":"693:167:0","statements":[{"assignments":[42],"declarations":[{"constant":false,"id":42,"mutability":"mutable","name":"fee","nameLocation":"765:3:0","nodeType":"VariableDeclaration","scope":55,"src":"758:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":41,"name":"uint64","nodeType":"ElementaryTypeName","src":"758:6:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"id":47,"initialValue":{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":46,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":43,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35,"src":"771:7:0","typeDescriptions":{"typeIdentifier":"t_struct$_FeeParams_$73_calldata_ptr","typeString":"struct FeeParams calldata"}},"id":44,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"779:10:0","memberName":"amountInSD","nodeType":"MemberAccess","referencedDeclaration":66,"src":"771:18:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"313030","id":45,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"792:3:0","typeDescriptions":{"typeIdentifier":"t_rational_100_by_1","typeString":"int_const 100"},"value":"100"},"src":"771:24:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"VariableDeclarationStatement","src":"758:37:0"},{"expression":{"id":53,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48,"name":"amountOutSD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39,"src":"815:11:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":52,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":49,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35,"src":"829:7:0","typeDescriptions":{"typeIdentifier":"t_struct$_FeeParams_$73_calldata_ptr","typeString":"struct FeeParams calldata"}},"id":50,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"837:10:0","memberName":"amountInSD","nodeType":"MemberAccess","referencedDeclaration":66,"src":"829:18:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":51,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42,"src":"850:3:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"829:24:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"815:38:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":54,"nodeType":"ExpressionStatement","src":"815:38:0"}]},"functionSelector":"81993cd0","id":56,"implemented":true,"kind":"function","modifiers":[],"name":"applyFeeView","nameLocation":"600:12:0","nodeType":"FunctionDefinition","overrides":{"id":37,"nodeType":"OverrideSpecifier","overrides":[],"src":"655:8:0"},"parameters":{"id":36,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35,"mutability":"mutable","name":"_params","nameLocation":"632:7:0","nodeType":"VariableDeclaration","scope":56,"src":"613:26:0","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_FeeParams_$73_calldata_ptr","typeString":"struct FeeParams"},"typeName":{"id":34,"nodeType":"UserDefinedTypeName","pathNode":{"id":33,"name":"FeeParams","nameLocations":["613:9:0"],"nodeType":"IdentifierPath","referencedDeclaration":73,"src":"613:9:0"},"referencedDeclaration":73,"src":"613:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_FeeParams_$73_storage_ptr","typeString":"struct FeeParams"}},"visibility":"internal"}],"src":"612:28:0"},"returnParameters":{"id":40,"nodeType":"ParameterList","parameters":[{"constant":false,"id":39,"mutability":"mutable","name":"amountOutSD","nameLocation":"680:11:0","nodeType":"VariableDeclaration","scope":56,"src":"673:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":38,"name":"uint64","nodeType":"ElementaryTypeName","src":"673:6:0","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"src":"672:20:0"},"scope":57,"src":"591:269:0","stateMutability":"pure","virtual":false,"visibility":"external"}],"scope":58,"src":"143:719:0","usedErrors":[],"usedEvents":[]}],"src":"37:825:0"},"id":0},"contracts/interfaces/IStargateFeeLib.sol":{"ast":{"absolutePath":"contracts/interfaces/IStargateFeeLib.sol","exportedSymbols":{"FeeParams":[73],"IStargateFeeLib":[93]},"id":94,"license":"BUSL-1.1","nodeType":"SourceUnit","nodes":[{"id":59,"literals":["solidity","^","0.8",".0"],"nodeType":"PragmaDirective","src":"37:23:1"},{"canonicalName":"FeeParams","documentation":{"id":60,"nodeType":"StructuredDocumentation","src":"62:85:1","text":"@notice Parameters used to assess fees to send tokens to a destination endpoint."},"id":73,"members":[{"constant":false,"id":62,"mutability":"mutable","name":"sender","nameLocation":"178:6:1","nodeType":"VariableDeclaration","scope":73,"src":"170:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":61,"name":"address","nodeType":"ElementaryTypeName","src":"170:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":64,"mutability":"mutable","name":"dstEid","nameLocation":"197:6:1","nodeType":"VariableDeclaration","scope":73,"src":"190:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":63,"name":"uint32","nodeType":"ElementaryTypeName","src":"190:6:1","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66,"mutability":"mutable","name":"amountInSD","nameLocation":"216:10:1","nodeType":"VariableDeclaration","scope":73,"src":"209:17:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":65,"name":"uint64","nodeType":"ElementaryTypeName","src":"209:6:1","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"},{"constant":false,"id":68,"mutability":"mutable","name":"deficitSD","nameLocation":"239:9:1","nodeType":"VariableDeclaration","scope":73,"src":"232:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":67,"name":"uint64","nodeType":"ElementaryTypeName","src":"232:6:1","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"},{"constant":false,"id":70,"mutability":"mutable","name":"toOFT","nameLocation":"259:5:1","nodeType":"VariableDeclaration","scope":73,"src":"254:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":69,"name":"bool","nodeType":"ElementaryTypeName","src":"254:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":72,"mutability":"mutable","name":"isTaxi","nameLocation":"275:6:1","nodeType":"VariableDeclaration","scope":73,"src":"270:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71,"name":"bool","nodeType":"ElementaryTypeName","src":"270:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"name":"FeeParams","nameLocation":"154:9:1","nodeType":"StructDefinition","scope":94,"src":"147:137:1","visibility":"public"},{"abstract":false,"baseContracts":[],"canonicalName":"IStargateFeeLib","contractDependencies":[],"contractKind":"interface","documentation":{"id":74,"nodeType":"StructuredDocumentation","src":"286:82:1","text":"@title Interface for assessing fees to send tokens to a destination endpoint."},"fullyImplemented":false,"id":93,"linearizedBaseContracts":[93],"name":"IStargateFeeLib","nameLocation":"378:15:1","nodeType":"ContractDefinition","nodes":[{"documentation":{"id":75,"nodeType":"StructuredDocumentation","src":"400:226:1","text":"@notice Apply a fee for a given request, allowing for state modification.\n @dev This is included for future proofing potential implementations\n @dev where state is modified in the feeLib based on a FeeParams"},"functionSelector":"43d9564d","id":83,"implemented":false,"kind":"function","modifiers":[],"name":"applyFee","nameLocation":"640:8:1","nodeType":"FunctionDefinition","parameters":{"id":79,"nodeType":"ParameterList","parameters":[{"constant":false,"id":78,"mutability":"mutable","name":"_params","nameLocation":"668:7:1","nodeType":"VariableDeclaration","scope":83,"src":"649:26:1","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_FeeParams_$73_calldata_ptr","typeString":"struct FeeParams"},"typeName":{"id":77,"nodeType":"UserDefinedTypeName","pathNode":{"id":76,"name":"FeeParams","nameLocations":["649:9:1"],"nodeType":"IdentifierPath","referencedDeclaration":73,"src":"649:9:1"},"referencedDeclaration":73,"src":"649:9:1","typeDescriptions":{"typeIdentifier":"t_struct$_FeeParams_$73_storage_ptr","typeString":"struct FeeParams"}},"visibility":"internal"}],"src":"648:28:1"},"returnParameters":{"id":82,"nodeType":"ParameterList","parameters":[{"constant":false,"id":81,"mutability":"mutable","name":"amountOutSD","nameLocation":"702:11:1","nodeType":"VariableDeclaration","scope":83,"src":"695:18:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":80,"name":"uint64","nodeType":"ElementaryTypeName","src":"695:6:1","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"src":"694:20:1"},"scope":93,"src":"631:84:1","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"documentation":{"id":84,"nodeType":"StructuredDocumentation","src":"720:69:1","text":"@notice Apply a fee for a given request, without modifying state."},"functionSelector":"81993cd0","id":92,"implemented":false,"kind":"function","modifiers":[],"name":"applyFeeView","nameLocation":"803:12:1","nodeType":"FunctionDefinition","parameters":{"id":88,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87,"mutability":"mutable","name":"_params","nameLocation":"835:7:1","nodeType":"VariableDeclaration","scope":92,"src":"816:26:1","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_FeeParams_$73_calldata_ptr","typeString":"struct FeeParams"},"typeName":{"id":86,"nodeType":"UserDefinedTypeName","pathNode":{"id":85,"name":"FeeParams","nameLocations":["816:9:1"],"nodeType":"IdentifierPath","referencedDeclaration":73,"src":"816:9:1"},"referencedDeclaration":73,"src":"816:9:1","typeDescriptions":{"typeIdentifier":"t_struct$_FeeParams_$73_storage_ptr","typeString":"struct FeeParams"}},"visibility":"internal"}],"src":"815:28:1"},"returnParameters":{"id":91,"nodeType":"ParameterList","parameters":[{"constant":false,"id":90,"mutability":"mutable","name":"amountOutSD","nameLocation":"874:11:1","nodeType":"VariableDeclaration","scope":92,"src":"867:18:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":89,"name":"uint64","nodeType":"ElementaryTypeName","src":"867:6:1","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"src":"866:20:1"},"scope":93,"src":"794:93:1","stateMutability":"view","virtual":false,"visibility":"external"}],"scope":94,"src":"368:521:1","usedErrors":[],"usedEvents":[]}],"src":"37:853:1"},"id":1}},"contracts":{"contracts/MockStargateFeeLib.sol":{"MockStargateFeeLib":{"abi":[{"inputs":[{"components":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint32","name":"dstEid","type":"uint32"},{"internalType":"uint64","name":"amountInSD","type":"uint64"},{"internalType":"uint64","name":"deficitSD","type":"uint64"},{"internalType":"bool","name":"toOFT","type":"bool"},{"internalType":"bool","name":"isTaxi","type":"bool"}],"internalType":"struct FeeParams","name":"_params","type":"tuple"}],"name":"applyFee","outputs":[{"internalType":"uint64","name":"amountOutSD","type":"uint64"}],"stateMutability":"pure","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint32","name":"dstEid","type":"uint32"},{"internalType":"uint64","name":"amountInSD","type":"uint64"},{"internalType":"uint64","name":"deficitSD","type":"uint64"},{"internalType":"bool","name":"toOFT","type":"bool"},{"internalType":"bool","name":"isTaxi","type":"bool"}],"internalType":"struct FeeParams","name":"_params","type":"tuple"}],"name":"applyFeeView","outputs":[{"internalType":"uint64","name":"amountOutSD","type":"uint64"}],"stateMutability":"pure","type":"function"}],"evm":{"bytecode":{"functionDebugData":{},"generatedSources":[],"linkReferences":{},"object":"6080604052348015600f57600080fd5b5061019b8061001f6000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c806343d9564d1461003b57806381993cd01461003b575b600080fd5b61004e6100493660046100ae565b61006b565b60405167ffffffffffffffff909116815260200160405180910390f35b600080606461008060608501604086016100c9565b61008a91906100f3565b90508061009d60608501604086016100c9565b6100a79190610131565b9392505050565b600060c08284031280156100c157600080fd5b509092915050565b6000602082840312156100db57600080fd5b813567ffffffffffffffff811681146100a757600080fd5b600067ffffffffffffffff83168061011b57634e487b7160e01b600052601260045260246000fd5b8067ffffffffffffffff84160491505092915050565b67ffffffffffffffff828116828216039081111561015f57634e487b7160e01b600052601160045260246000fd5b9291505056fea26469706673582212200fbf41d33615526a3dbb1787d224da09b8097211bd5c98f891d3619f72cad3cb64736f6c634300081c0033","opcodes":"PUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH1 0xF JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH2 0x19B DUP1 PUSH2 0x1F PUSH1 0x0 CODECOPY PUSH1 0x0 RETURN INVALID PUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH2 0x10 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0x4 CALLDATASIZE LT PUSH2 0x36 JUMPI PUSH1 0x0 CALLDATALOAD PUSH1 0xE0 SHR DUP1 PUSH4 0x43D9564D EQ PUSH2 0x3B JUMPI DUP1 PUSH4 0x81993CD0 EQ PUSH2 0x3B JUMPI JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x4E PUSH2 0x49 CALLDATASIZE PUSH1 0x4 PUSH2 0xAE JUMP JUMPDEST PUSH2 0x6B JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH8 0xFFFFFFFFFFFFFFFF SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 ADD PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 RETURN JUMPDEST PUSH1 0x0 DUP1 PUSH1 0x64 PUSH2 0x80 PUSH1 0x60 DUP6 ADD PUSH1 0x40 DUP7 ADD PUSH2 0xC9 JUMP JUMPDEST PUSH2 0x8A SWAP2 SWAP1 PUSH2 0xF3 JUMP JUMPDEST SWAP1 POP DUP1 PUSH2 0x9D PUSH1 0x60 DUP6 ADD PUSH1 0x40 DUP7 ADD PUSH2 0xC9 JUMP JUMPDEST PUSH2 0xA7 SWAP2 SWAP1 PUSH2 0x131 JUMP JUMPDEST SWAP4 SWAP3 POP POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0xC0 DUP3 DUP5 SUB SLT DUP1 ISZERO PUSH2 0xC1 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP SWAP1 SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x20 DUP3 DUP5 SUB SLT ISZERO PUSH2 0xDB JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP2 CALLDATALOAD PUSH8 0xFFFFFFFFFFFFFFFF DUP2 AND DUP2 EQ PUSH2 0xA7 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 PUSH8 0xFFFFFFFFFFFFFFFF DUP4 AND DUP1 PUSH2 0x11B JUMPI PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x12 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST DUP1 PUSH8 0xFFFFFFFFFFFFFFFF DUP5 AND DIV SWAP2 POP POP SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH8 0xFFFFFFFFFFFFFFFF DUP3 DUP2 AND DUP3 DUP3 AND SUB SWAP1 DUP2 GT ISZERO PUSH2 0x15F JUMPI PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x11 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST SWAP3 SWAP2 POP POP JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0xF 0xBF COINBASE 0xD3 CALLDATASIZE ISZERO MSTORE PUSH11 0x3DBB1787D224DA09B80972 GT 0xBD TLOAD SWAP9 0xF8 SWAP2 0xD3 PUSH2 0x9F72 0xCA 0xD3 0xCB PUSH5 0x736F6C6343 STOP ADDMOD SHR STOP CALLER ","sourceMap":"143:719:0:-:0;;;;;;;;;;;;;;;;;;;"},"deployedBytecode":{"functionDebugData":{"@applyFeeView_56":{"entryPoint":null,"id":56,"parameterSlots":1,"returnSlots":1},"@applyFee_32":{"entryPoint":107,"id":32,"parameterSlots":1,"returnSlots":1},"abi_decode_tuple_t_struct$_FeeParams_$73_calldata_ptr":{"entryPoint":174,"id":null,"parameterSlots":2,"returnSlots":1},"abi_decode_tuple_t_uint64":{"entryPoint":201,"id":null,"parameterSlots":2,"returnSlots":1},"abi_encode_tuple_t_uint64__to_t_uint64__fromStack_reversed":{"entryPoint":null,"id":null,"parameterSlots":2,"returnSlots":1},"checked_div_t_uint64":{"entryPoint":243,"id":null,"parameterSlots":2,"returnSlots":1},"checked_sub_t_uint64":{"entryPoint":305,"id":null,"parameterSlots":2,"returnSlots":1}},"generatedSources":[{"ast":{"nativeSrc":"0:1333:2","nodeType":"YulBlock","src":"0:1333:2","statements":[{"nativeSrc":"6:3:2","nodeType":"YulBlock","src":"6:3:2","statements":[]},{"body":{"nativeSrc":"111:134:2","nodeType":"YulBlock","src":"111:134:2","statements":[{"nativeSrc":"121:43:2","nodeType":"YulVariableDeclaration","src":"121:43:2","value":{"arguments":[{"arguments":[{"name":"dataEnd","nativeSrc":"139:7:2","nodeType":"YulIdentifier","src":"139:7:2"},{"name":"headStart","nativeSrc":"148:9:2","nodeType":"YulIdentifier","src":"148:9:2"}],"functionName":{"name":"sub","nativeSrc":"135:3:2","nodeType":"YulIdentifier","src":"135:3:2"},"nativeSrc":"135:23:2","nodeType":"YulFunctionCall","src":"135:23:2"},{"kind":"number","nativeSrc":"160:3:2","nodeType":"YulLiteral","src":"160:3:2","type":"","value":"192"}],"functionName":{"name":"slt","nativeSrc":"131:3:2","nodeType":"YulIdentifier","src":"131:3:2"},"nativeSrc":"131:33:2","nodeType":"YulFunctionCall","src":"131:33:2"},"variables":[{"name":"_1","nativeSrc":"125:2:2","nodeType":"YulTypedName","src":"125:2:2","type":""}]},{"body":{"nativeSrc":"179:16:2","nodeType":"YulBlock","src":"179:16:2","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"188:1:2","nodeType":"YulLiteral","src":"188:1:2","type":"","value":"0"},{"kind":"number","nativeSrc":"191:1:2","nodeType":"YulLiteral","src":"191:1:2","type":"","value":"0"}],"functionName":{"name":"revert","nativeSrc":"181:6:2","nodeType":"YulIdentifier","src":"181:6:2"},"nativeSrc":"181:12:2","nodeType":"YulFunctionCall","src":"181:12:2"},"nativeSrc":"181:12:2","nodeType":"YulExpressionStatement","src":"181:12:2"}]},"condition":{"name":"_1","nativeSrc":"176:2:2","nodeType":"YulIdentifier","src":"176:2:2"},"nativeSrc":"173:22:2","nodeType":"YulIf","src":"173:22:2"},{"nativeSrc":"204:7:2","nodeType":"YulAssignment","src":"204:7:2","value":{"kind":"number","nativeSrc":"210:1:2","nodeType":"YulLiteral","src":"210:1:2","type":"","value":"0"},"variableNames":[{"name":"_1","nativeSrc":"204:2:2","nodeType":"YulIdentifier","src":"204:2:2"}]},{"nativeSrc":"220:19:2","nodeType":"YulAssignment","src":"220:19:2","value":{"name":"headStart","nativeSrc":"230:9:2","nodeType":"YulIdentifier","src":"230:9:2"},"variableNames":[{"name":"value0","nativeSrc":"220:6:2","nodeType":"YulIdentifier","src":"220:6:2"}]}]},"name":"abi_decode_tuple_t_struct$_FeeParams_$73_calldata_ptr","nativeSrc":"14:231:2","nodeType":"YulFunctionDefinition","parameters":[{"name":"headStart","nativeSrc":"77:9:2","nodeType":"YulTypedName","src":"77:9:2","type":""},{"name":"dataEnd","nativeSrc":"88:7:2","nodeType":"YulTypedName","src":"88:7:2","type":""}],"returnVariables":[{"name":"value0","nativeSrc":"100:6:2","nodeType":"YulTypedName","src":"100:6:2","type":""}],"src":"14:231:2"},{"body":{"nativeSrc":"349:101:2","nodeType":"YulBlock","src":"349:101:2","statements":[{"nativeSrc":"359:26:2","nodeType":"YulAssignment","src":"359:26:2","value":{"arguments":[{"name":"headStart","nativeSrc":"371:9:2","nodeType":"YulIdentifier","src":"371:9:2"},{"kind":"number","nativeSrc":"382:2:2","nodeType":"YulLiteral","src":"382:2:2","type":"","value":"32"}],"functionName":{"name":"add","nativeSrc":"367:3:2","nodeType":"YulIdentifier","src":"367:3:2"},"nativeSrc":"367:18:2","nodeType":"YulFunctionCall","src":"367:18:2"},"variableNames":[{"name":"tail","nativeSrc":"359:4:2","nodeType":"YulIdentifier","src":"359:4:2"}]},{"expression":{"arguments":[{"name":"headStart","nativeSrc":"401:9:2","nodeType":"YulIdentifier","src":"401:9:2"},{"arguments":[{"name":"value0","nativeSrc":"416:6:2","nodeType":"YulIdentifier","src":"416:6:2"},{"kind":"number","nativeSrc":"424:18:2","nodeType":"YulLiteral","src":"424:18:2","type":"","value":"0xffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"412:3:2","nodeType":"YulIdentifier","src":"412:3:2"},"nativeSrc":"412:31:2","nodeType":"YulFunctionCall","src":"412:31:2"}],"functionName":{"name":"mstore","nativeSrc":"394:6:2","nodeType":"YulIdentifier","src":"394:6:2"},"nativeSrc":"394:50:2","nodeType":"YulFunctionCall","src":"394:50:2"},"nativeSrc":"394:50:2","nodeType":"YulExpressionStatement","src":"394:50:2"}]},"name":"abi_encode_tuple_t_uint64__to_t_uint64__fromStack_reversed","nativeSrc":"250:200:2","nodeType":"YulFunctionDefinition","parameters":[{"name":"headStart","nativeSrc":"318:9:2","nodeType":"YulTypedName","src":"318:9:2","type":""},{"name":"value0","nativeSrc":"329:6:2","nodeType":"YulTypedName","src":"329:6:2","type":""}],"returnVariables":[{"name":"tail","nativeSrc":"340:4:2","nodeType":"YulTypedName","src":"340:4:2","type":""}],"src":"250:200:2"},{"body":{"nativeSrc":"524:215:2","nodeType":"YulBlock","src":"524:215:2","statements":[{"body":{"nativeSrc":"570:16:2","nodeType":"YulBlock","src":"570:16:2","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"579:1:2","nodeType":"YulLiteral","src":"579:1:2","type":"","value":"0"},{"kind":"number","nativeSrc":"582:1:2","nodeType":"YulLiteral","src":"582:1:2","type":"","value":"0"}],"functionName":{"name":"revert","nativeSrc":"572:6:2","nodeType":"YulIdentifier","src":"572:6:2"},"nativeSrc":"572:12:2","nodeType":"YulFunctionCall","src":"572:12:2"},"nativeSrc":"572:12:2","nodeType":"YulExpressionStatement","src":"572:12:2"}]},"condition":{"arguments":[{"arguments":[{"name":"dataEnd","nativeSrc":"545:7:2","nodeType":"YulIdentifier","src":"545:7:2"},{"name":"headStart","nativeSrc":"554:9:2","nodeType":"YulIdentifier","src":"554:9:2"}],"functionName":{"name":"sub","nativeSrc":"541:3:2","nodeType":"YulIdentifier","src":"541:3:2"},"nativeSrc":"541:23:2","nodeType":"YulFunctionCall","src":"541:23:2"},{"kind":"number","nativeSrc":"566:2:2","nodeType":"YulLiteral","src":"566:2:2","type":"","value":"32"}],"functionName":{"name":"slt","nativeSrc":"537:3:2","nodeType":"YulIdentifier","src":"537:3:2"},"nativeSrc":"537:32:2","nodeType":"YulFunctionCall","src":"537:32:2"},"nativeSrc":"534:52:2","nodeType":"YulIf","src":"534:52:2"},{"nativeSrc":"595:36:2","nodeType":"YulVariableDeclaration","src":"595:36:2","value":{"arguments":[{"name":"headStart","nativeSrc":"621:9:2","nodeType":"YulIdentifier","src":"621:9:2"}],"functionName":{"name":"calldataload","nativeSrc":"608:12:2","nodeType":"YulIdentifier","src":"608:12:2"},"nativeSrc":"608:23:2","nodeType":"YulFunctionCall","src":"608:23:2"},"variables":[{"name":"value","nativeSrc":"599:5:2","nodeType":"YulTypedName","src":"599:5:2","type":""}]},{"body":{"nativeSrc":"693:16:2","nodeType":"YulBlock","src":"693:16:2","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"702:1:2","nodeType":"YulLiteral","src":"702:1:2","type":"","value":"0"},{"kind":"number","nativeSrc":"705:1:2","nodeType":"YulLiteral","src":"705:1:2","type":"","value":"0"}],"functionName":{"name":"revert","nativeSrc":"695:6:2","nodeType":"YulIdentifier","src":"695:6:2"},"nativeSrc":"695:12:2","nodeType":"YulFunctionCall","src":"695:12:2"},"nativeSrc":"695:12:2","nodeType":"YulExpressionStatement","src":"695:12:2"}]},"condition":{"arguments":[{"arguments":[{"name":"value","nativeSrc":"653:5:2","nodeType":"YulIdentifier","src":"653:5:2"},{"arguments":[{"name":"value","nativeSrc":"664:5:2","nodeType":"YulIdentifier","src":"664:5:2"},{"kind":"number","nativeSrc":"671:18:2","nodeType":"YulLiteral","src":"671:18:2","type":"","value":"0xffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"660:3:2","nodeType":"YulIdentifier","src":"660:3:2"},"nativeSrc":"660:30:2","nodeType":"YulFunctionCall","src":"660:30:2"}],"functionName":{"name":"eq","nativeSrc":"650:2:2","nodeType":"YulIdentifier","src":"650:2:2"},"nativeSrc":"650:41:2","nodeType":"YulFunctionCall","src":"650:41:2"}],"functionName":{"name":"iszero","nativeSrc":"643:6:2","nodeType":"YulIdentifier","src":"643:6:2"},"nativeSrc":"643:49:2","nodeType":"YulFunctionCall","src":"643:49:2"},"nativeSrc":"640:69:2","nodeType":"YulIf","src":"640:69:2"},{"nativeSrc":"718:15:2","nodeType":"YulAssignment","src":"718:15:2","value":{"name":"value","nativeSrc":"728:5:2","nodeType":"YulIdentifier","src":"728:5:2"},"variableNames":[{"name":"value0","nativeSrc":"718:6:2","nodeType":"YulIdentifier","src":"718:6:2"}]}]},"name":"abi_decode_tuple_t_uint64","nativeSrc":"455:284:2","nodeType":"YulFunctionDefinition","parameters":[{"name":"headStart","nativeSrc":"490:9:2","nodeType":"YulTypedName","src":"490:9:2","type":""},{"name":"dataEnd","nativeSrc":"501:7:2","nodeType":"YulTypedName","src":"501:7:2","type":""}],"returnVariables":[{"name":"value0","nativeSrc":"513:6:2","nodeType":"YulTypedName","src":"513:6:2","type":""}],"src":"455:284:2"},{"body":{"nativeSrc":"789:246:2","nodeType":"YulBlock","src":"789:246:2","statements":[{"nativeSrc":"799:37:2","nodeType":"YulVariableDeclaration","src":"799:37:2","value":{"arguments":[{"name":"y","nativeSrc":"814:1:2","nodeType":"YulIdentifier","src":"814:1:2"},{"kind":"number","nativeSrc":"817:18:2","nodeType":"YulLiteral","src":"817:18:2","type":"","value":"0xffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"810:3:2","nodeType":"YulIdentifier","src":"810:3:2"},"nativeSrc":"810:26:2","nodeType":"YulFunctionCall","src":"810:26:2"},"variables":[{"name":"y_1","nativeSrc":"803:3:2","nodeType":"YulTypedName","src":"803:3:2","type":""}]},{"body":{"nativeSrc":"868:111:2","nodeType":"YulBlock","src":"868:111:2","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"889:1:2","nodeType":"YulLiteral","src":"889:1:2","type":"","value":"0"},{"arguments":[{"kind":"number","nativeSrc":"896:3:2","nodeType":"YulLiteral","src":"896:3:2","type":"","value":"224"},{"kind":"number","nativeSrc":"901:10:2","nodeType":"YulLiteral","src":"901:10:2","type":"","value":"0x4e487b71"}],"functionName":{"name":"shl","nativeSrc":"892:3:2","nodeType":"YulIdentifier","src":"892:3:2"},"nativeSrc":"892:20:2","nodeType":"YulFunctionCall","src":"892:20:2"}],"functionName":{"name":"mstore","nativeSrc":"882:6:2","nodeType":"YulIdentifier","src":"882:6:2"},"nativeSrc":"882:31:2","nodeType":"YulFunctionCall","src":"882:31:2"},"nativeSrc":"882:31:2","nodeType":"YulExpressionStatement","src":"882:31:2"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"933:1:2","nodeType":"YulLiteral","src":"933:1:2","type":"","value":"4"},{"kind":"number","nativeSrc":"936:4:2","nodeType":"YulLiteral","src":"936:4:2","type":"","value":"0x12"}],"functionName":{"name":"mstore","nativeSrc":"926:6:2","nodeType":"YulIdentifier","src":"926:6:2"},"nativeSrc":"926:15:2","nodeType":"YulFunctionCall","src":"926:15:2"},"nativeSrc":"926:15:2","nodeType":"YulExpressionStatement","src":"926:15:2"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"961:1:2","nodeType":"YulLiteral","src":"961:1:2","type":"","value":"0"},{"kind":"number","nativeSrc":"964:4:2","nodeType":"YulLiteral","src":"964:4:2","type":"","value":"0x24"}],"functionName":{"name":"revert","nativeSrc":"954:6:2","nodeType":"YulIdentifier","src":"954:6:2"},"nativeSrc":"954:15:2","nodeType":"YulFunctionCall","src":"954:15:2"},"nativeSrc":"954:15:2","nodeType":"YulExpressionStatement","src":"954:15:2"}]},"condition":{"arguments":[{"name":"y_1","nativeSrc":"855:3:2","nodeType":"YulIdentifier","src":"855:3:2"}],"functionName":{"name":"iszero","nativeSrc":"848:6:2","nodeType":"YulIdentifier","src":"848:6:2"},"nativeSrc":"848:11:2","nodeType":"YulFunctionCall","src":"848:11:2"},"nativeSrc":"845:134:2","nodeType":"YulIf","src":"845:134:2"},{"nativeSrc":"988:41:2","nodeType":"YulAssignment","src":"988:41:2","value":{"arguments":[{"arguments":[{"name":"x","nativeSrc":"1001:1:2","nodeType":"YulIdentifier","src":"1001:1:2"},{"kind":"number","nativeSrc":"1004:18:2","nodeType":"YulLiteral","src":"1004:18:2","type":"","value":"0xffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"997:3:2","nodeType":"YulIdentifier","src":"997:3:2"},"nativeSrc":"997:26:2","nodeType":"YulFunctionCall","src":"997:26:2"},{"name":"y_1","nativeSrc":"1025:3:2","nodeType":"YulIdentifier","src":"1025:3:2"}],"functionName":{"name":"div","nativeSrc":"993:3:2","nodeType":"YulIdentifier","src":"993:3:2"},"nativeSrc":"993:36:2","nodeType":"YulFunctionCall","src":"993:36:2"},"variableNames":[{"name":"r","nativeSrc":"988:1:2","nodeType":"YulIdentifier","src":"988:1:2"}]}]},"name":"checked_div_t_uint64","nativeSrc":"744:291:2","nodeType":"YulFunctionDefinition","parameters":[{"name":"x","nativeSrc":"774:1:2","nodeType":"YulTypedName","src":"774:1:2","type":""},{"name":"y","nativeSrc":"777:1:2","nodeType":"YulTypedName","src":"777:1:2","type":""}],"returnVariables":[{"name":"r","nativeSrc":"783:1:2","nodeType":"YulTypedName","src":"783:1:2","type":""}],"src":"744:291:2"},{"body":{"nativeSrc":"1088:243:2","nodeType":"YulBlock","src":"1088:243:2","statements":[{"nativeSrc":"1098:67:2","nodeType":"YulAssignment","src":"1098:67:2","value":{"arguments":[{"arguments":[{"name":"x","nativeSrc":"1114:1:2","nodeType":"YulIdentifier","src":"1114:1:2"},{"kind":"number","nativeSrc":"1117:18:2","nodeType":"YulLiteral","src":"1117:18:2","type":"","value":"0xffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"1110:3:2","nodeType":"YulIdentifier","src":"1110:3:2"},"nativeSrc":"1110:26:2","nodeType":"YulFunctionCall","src":"1110:26:2"},{"arguments":[{"name":"y","nativeSrc":"1142:1:2","nodeType":"YulIdentifier","src":"1142:1:2"},{"kind":"number","nativeSrc":"1145:18:2","nodeType":"YulLiteral","src":"1145:18:2","type":"","value":"0xffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"1138:3:2","nodeType":"YulIdentifier","src":"1138:3:2"},"nativeSrc":"1138:26:2","nodeType":"YulFunctionCall","src":"1138:26:2"}],"functionName":{"name":"sub","nativeSrc":"1106:3:2","nodeType":"YulIdentifier","src":"1106:3:2"},"nativeSrc":"1106:59:2","nodeType":"YulFunctionCall","src":"1106:59:2"},"variableNames":[{"name":"diff","nativeSrc":"1098:4:2","nodeType":"YulIdentifier","src":"1098:4:2"}]},{"body":{"nativeSrc":"1214:111:2","nodeType":"YulBlock","src":"1214:111:2","statements":[{"expression":{"arguments":[{"kind":"number","nativeSrc":"1235:1:2","nodeType":"YulLiteral","src":"1235:1:2","type":"","value":"0"},{"arguments":[{"kind":"number","nativeSrc":"1242:3:2","nodeType":"YulLiteral","src":"1242:3:2","type":"","value":"224"},{"kind":"number","nativeSrc":"1247:10:2","nodeType":"YulLiteral","src":"1247:10:2","type":"","value":"0x4e487b71"}],"functionName":{"name":"shl","nativeSrc":"1238:3:2","nodeType":"YulIdentifier","src":"1238:3:2"},"nativeSrc":"1238:20:2","nodeType":"YulFunctionCall","src":"1238:20:2"}],"functionName":{"name":"mstore","nativeSrc":"1228:6:2","nodeType":"YulIdentifier","src":"1228:6:2"},"nativeSrc":"1228:31:2","nodeType":"YulFunctionCall","src":"1228:31:2"},"nativeSrc":"1228:31:2","nodeType":"YulExpressionStatement","src":"1228:31:2"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"1279:1:2","nodeType":"YulLiteral","src":"1279:1:2","type":"","value":"4"},{"kind":"number","nativeSrc":"1282:4:2","nodeType":"YulLiteral","src":"1282:4:2","type":"","value":"0x11"}],"functionName":{"name":"mstore","nativeSrc":"1272:6:2","nodeType":"YulIdentifier","src":"1272:6:2"},"nativeSrc":"1272:15:2","nodeType":"YulFunctionCall","src":"1272:15:2"},"nativeSrc":"1272:15:2","nodeType":"YulExpressionStatement","src":"1272:15:2"},{"expression":{"arguments":[{"kind":"number","nativeSrc":"1307:1:2","nodeType":"YulLiteral","src":"1307:1:2","type":"","value":"0"},{"kind":"number","nativeSrc":"1310:4:2","nodeType":"YulLiteral","src":"1310:4:2","type":"","value":"0x24"}],"functionName":{"name":"revert","nativeSrc":"1300:6:2","nodeType":"YulIdentifier","src":"1300:6:2"},"nativeSrc":"1300:15:2","nodeType":"YulFunctionCall","src":"1300:15:2"},"nativeSrc":"1300:15:2","nodeType":"YulExpressionStatement","src":"1300:15:2"}]},"condition":{"arguments":[{"name":"diff","nativeSrc":"1180:4:2","nodeType":"YulIdentifier","src":"1180:4:2"},{"kind":"number","nativeSrc":"1186:18:2","nodeType":"YulLiteral","src":"1186:18:2","type":"","value":"0xffffffffffffffff"}],"functionName":{"name":"gt","nativeSrc":"1177:2:2","nodeType":"YulIdentifier","src":"1177:2:2"},"nativeSrc":"1177:28:2","nodeType":"YulFunctionCall","src":"1177:28:2"},"nativeSrc":"1174:151:2","nodeType":"YulIf","src":"1174:151:2"}]},"name":"checked_sub_t_uint64","nativeSrc":"1040:291:2","nodeType":"YulFunctionDefinition","parameters":[{"name":"x","nativeSrc":"1070:1:2","nodeType":"YulTypedName","src":"1070:1:2","type":""},{"name":"y","nativeSrc":"1073:1:2","nodeType":"YulTypedName","src":"1073:1:2","type":""}],"returnVariables":[{"name":"diff","nativeSrc":"1079:4:2","nodeType":"YulTypedName","src":"1079:4:2","type":""}],"src":"1040:291:2"}]},"contents":"{\n    { }\n    function abi_decode_tuple_t_struct$_FeeParams_$73_calldata_ptr(headStart, dataEnd) -> value0\n    {\n        let _1 := slt(sub(dataEnd, headStart), 192)\n        if _1 { revert(0, 0) }\n        _1 := 0\n        value0 := headStart\n    }\n    function abi_encode_tuple_t_uint64__to_t_uint64__fromStack_reversed(headStart, value0) -> tail\n    {\n        tail := add(headStart, 32)\n        mstore(headStart, and(value0, 0xffffffffffffffff))\n    }\n    function abi_decode_tuple_t_uint64(headStart, dataEnd) -> value0\n    {\n        if slt(sub(dataEnd, headStart), 32) { revert(0, 0) }\n        let value := calldataload(headStart)\n        if iszero(eq(value, and(value, 0xffffffffffffffff))) { revert(0, 0) }\n        value0 := value\n    }\n    function checked_div_t_uint64(x, y) -> r\n    {\n        let y_1 := and(y, 0xffffffffffffffff)\n        if iszero(y_1)\n        {\n            mstore(0, shl(224, 0x4e487b71))\n            mstore(4, 0x12)\n            revert(0, 0x24)\n        }\n        r := div(and(x, 0xffffffffffffffff), y_1)\n    }\n    function checked_sub_t_uint64(x, y) -> diff\n    {\n        diff := sub(and(x, 0xffffffffffffffff), and(y, 0xffffffffffffffff))\n        if gt(diff, 0xffffffffffffffff)\n        {\n            mstore(0, shl(224, 0x4e487b71))\n            mstore(4, 0x11)\n            revert(0, 0x24)\n        }\n    }\n}","id":2,"language":"Yul","name":"#utility.yul"}],"immutableReferences":{},"linkReferences":{},"object":"608060405234801561001057600080fd5b50600436106100365760003560e01c806343d9564d1461003b57806381993cd01461003b575b600080fd5b61004e6100493660046100ae565b61006b565b60405167ffffffffffffffff909116815260200160405180910390f35b600080606461008060608501604086016100c9565b61008a91906100f3565b90508061009d60608501604086016100c9565b6100a79190610131565b9392505050565b600060c08284031280156100c157600080fd5b509092915050565b6000602082840312156100db57600080fd5b813567ffffffffffffffff811681146100a757600080fd5b600067ffffffffffffffff83168061011b57634e487b7160e01b600052601260045260246000fd5b8067ffffffffffffffff84160491505092915050565b67ffffffffffffffff828116828216039081111561015f57634e487b7160e01b600052601160045260246000fd5b9291505056fea26469706673582212200fbf41d33615526a3dbb1787d224da09b8097211bd5c98f891d3619f72cad3cb64736f6c634300081c0033","opcodes":"PUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH2 0x10 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0x4 CALLDATASIZE LT PUSH2 0x36 JUMPI PUSH1 0x0 CALLDATALOAD PUSH1 0xE0 SHR DUP1 PUSH4 0x43D9564D EQ PUSH2 0x3B JUMPI DUP1 PUSH4 0x81993CD0 EQ PUSH2 0x3B JUMPI JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x4E PUSH2 0x49 CALLDATASIZE PUSH1 0x4 PUSH2 0xAE JUMP JUMPDEST PUSH2 0x6B JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH8 0xFFFFFFFFFFFFFFFF SWAP1 SWAP2 AND DUP2 MSTORE PUSH1 0x20 ADD PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 RETURN JUMPDEST PUSH1 0x0 DUP1 PUSH1 0x64 PUSH2 0x80 PUSH1 0x60 DUP6 ADD PUSH1 0x40 DUP7 ADD PUSH2 0xC9 JUMP JUMPDEST PUSH2 0x8A SWAP2 SWAP1 PUSH2 0xF3 JUMP JUMPDEST SWAP1 POP DUP1 PUSH2 0x9D PUSH1 0x60 DUP6 ADD PUSH1 0x40 DUP7 ADD PUSH2 0xC9 JUMP JUMPDEST PUSH2 0xA7 SWAP2 SWAP1 PUSH2 0x131 JUMP JUMPDEST SWAP4 SWAP3 POP POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0xC0 DUP3 DUP5 SUB SLT DUP1 ISZERO PUSH2 0xC1 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP SWAP1 SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x20 DUP3 DUP5 SUB SLT ISZERO PUSH2 0xDB JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST DUP2 CALLDATALOAD PUSH8 0xFFFFFFFFFFFFFFFF DUP2 AND DUP2 EQ PUSH2 0xA7 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 PUSH8 0xFFFFFFFFFFFFFFFF DUP4 AND DUP1 PUSH2 0x11B JUMPI PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x12 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST DUP1 PUSH8 0xFFFFFFFFFFFFFFFF DUP5 AND DIV SWAP2 POP POP SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH8 0xFFFFFFFFFFFFFFFF DUP3 DUP2 AND DUP3 DUP3 AND SUB SWAP1 DUP2 GT ISZERO PUSH2 0x15F JUMPI PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x11 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST SWAP3 SWAP2 POP POP JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0xF 0xBF COINBASE 0xD3 CALLDATASIZE ISZERO MSTORE PUSH11 0x3DBB1787D224DA09B80972 GT 0xBD TLOAD SWAP9 0xF8 SWAP2 0xD3 PUSH2 0x9F72 0xCA 0xD3 0xCB PUSH5 0x736F6C6343 STOP ADDMOD SHR STOP CALLER ","sourceMap":"143:719:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;236:305;;;;;;:::i;:::-;;:::i;:::-;;;424:18:2;412:31;;;394:50;;382:2;367:18;236:305:0;;;;;;;;314:18;;445:3;424:18;;;;;;;;:::i;:::-;:24;;;;:::i;:::-;411:37;-1:-1:-1;411:37:0;482:18;;;;;;;;:::i;:::-;:24;;;;:::i;:::-;468:38;236:305;-1:-1:-1;;;236:305:0:o;14:231:2:-;100:6;160:3;148:9;139:7;135:23;131:33;176:2;173:22;;;191:1;188;181:12;173:22;-1:-1:-1;230:9:2;;14:231;-1:-1:-1;;14:231:2:o;455:284::-;513:6;566:2;554:9;545:7;541:23;537:32;534:52;;;582:1;579;572:12;534:52;621:9;608:23;671:18;664:5;660:30;653:5;650:41;640:69;;705:1;702;695:12;744:291;783:1;817:18;814:1;810:26;855:3;845:134;;901:10;896:3;892:20;889:1;882:31;936:4;933:1;926:15;964:4;961:1;954:15;845:134;1025:3;1004:18;1001:1;997:26;993:36;988:41;;;744:291;;;;:::o;1040:::-;1145:18;1138:26;;;1110;;;1106:59;;1177:28;;1174:151;;;1247:10;1242:3;1238:20;1235:1;1228:31;1282:4;1279:1;1272:15;1310:4;1307:1;1300:15;1174:151;1040:291;;;;:::o"},"methodIdentifiers":{"applyFee((address,uint32,uint64,uint64,bool,bool))":"43d9564d","applyFeeView((address,uint32,uint64,uint64,bool,bool))":"81993cd0"}},"metadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"dstEid\",\"type\":\"uint32\"},{\"internalType\":\"uint64\",\"name\":\"amountInSD\",\"type\":\"uint64\"},{\"internalType\":\"uint64\",\"name\":\"deficitSD\",\"type\":\"uint64\"},{\"internalType\":\"bool\",\"name\":\"toOFT\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isTaxi\",\"type\":\"bool\"}],\"internalType\":\"struct FeeParams\",\"name\":\"_params\",\"type\":\"tuple\"}],\"name\":\"applyFee\",\"outputs\":[{\"internalType\":\"uint64\",\"name\":\"amountOutSD\",\"type\":\"uint64\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"dstEid\",\"type\":\"uint32\"},{\"internalType\":\"uint64\",\"name\":\"amountInSD\",\"type\":\"uint64\"},{\"internalType\":\"uint64\",\"name\":\"deficitSD\",\"type\":\"uint64\"},{\"internalType\":\"bool\",\"name\":\"toOFT\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isTaxi\",\"type\":\"bool\"}],\"internalType\":\"struct FeeParams\",\"name\":\"_params\",\"type\":\"tuple\"}],\"name\":\"applyFeeView\",\"outputs\":[{\"internalType\":\"uint64\",\"name\":\"amountOutSD\",\"type\":\"uint64\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"applyFee((address,uint32,uint64,uint64,bool,bool))\":{\"details\":\"This is included for future proofing potential implementationswhere state is modified in the feeLib based on a FeeParams\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"applyFee((address,uint32,uint64,uint64,bool,bool))\":{\"notice\":\"Apply a fee for a given request, allowing for state modification.\"},\"applyFeeView((address,uint32,uint64,uint64,bool,bool))\":{\"notice\":\"Apply a fee for a given request, without modifying state.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/MockStargateFeeLib.sol\":\"MockStargateFeeLib\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/MockStargateFeeLib.sol\":{\"keccak256\":\"0x9f5a601aae8d2c4fe4bd605fe8c5a0a8c237dd299c9b132393660a187312ff5f\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://2a48bf3b22e149c14738bd861007d17bdaba080e48b6ce0c25b3dafe4f7def21\",\"dweb:/ipfs/QmWKj2x2C6wLoJdemwL2V7bPTdQyUtt3QkEZqxT4VJsXMV\"]},\"contracts/interfaces/IStargateFeeLib.sol\":{\"keccak256\":\"0xb68a85b6c3907584364d7ce78ffe7f4aedf5ea7dd584fea7fef435a23337bf57\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://ba147545bce5ac4587b7cce6f526a9503a62ae836706f87777d646976eaacd30\",\"dweb:/ipfs/QmcwzbdrEjzgtdEejW9QcGe7B9pEGeLzonQPMRdsHfq7uo\"]}},\"version\":1}"}},"contracts/interfaces/IStargateFeeLib.sol":{"IStargateFeeLib":{"abi":[{"inputs":[{"components":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint32","name":"dstEid","type":"uint32"},{"internalType":"uint64","name":"amountInSD","type":"uint64"},{"internalType":"uint64","name":"deficitSD","type":"uint64"},{"internalType":"bool","name":"toOFT","type":"bool"},{"internalType":"bool","name":"isTaxi","type":"bool"}],"internalType":"struct FeeParams","name":"_params","type":"tuple"}],"name":"applyFee","outputs":[{"internalType":"uint64","name":"amountOutSD","type":"uint64"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint32","name":"dstEid","type":"uint32"},{"internalType":"uint64","name":"amountInSD","type":"uint64"},{"internalType":"uint64","name":"deficitSD","type":"uint64"},{"internalType":"bool","name":"toOFT","type":"bool"},{"internalType":"bool","name":"isTaxi","type":"bool"}],"internalType":"struct FeeParams","name":"_params","type":"tuple"}],"name":"applyFeeView","outputs":[{"internalType":"uint64","name":"amountOutSD","type":"uint64"}],"stateMutability":"view","type":"function"}],"evm":{"bytecode":{"functionDebugData":{},"generatedSources":[],"linkReferences":{},"object":"","opcodes":"","sourceMap":""},"deployedBytecode":{"functionDebugData":{},"generatedSources":[],"immutableReferences":{},"linkReferences":{},"object":"","opcodes":"","sourceMap":""},"methodIdentifiers":{"applyFee((address,uint32,uint64,uint64,bool,bool))":"43d9564d","applyFeeView((address,uint32,uint64,uint64,bool,bool))":"81993cd0"}},"metadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"dstEid\",\"type\":\"uint32\"},{\"internalType\":\"uint64\",\"name\":\"amountInSD\",\"type\":\"uint64\"},{\"internalType\":\"uint64\",\"name\":\"deficitSD\",\"type\":\"uint64\"},{\"internalType\":\"bool\",\"name\":\"toOFT\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isTaxi\",\"type\":\"bool\"}],\"internalType\":\"struct FeeParams\",\"name\":\"_params\",\"type\":\"tuple\"}],\"name\":\"applyFee\",\"outputs\":[{\"internalType\":\"uint64\",\"name\":\"amountOutSD\",\"type\":\"uint64\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"dstEid\",\"type\":\"uint32\"},{\"internalType\":\"uint64\",\"name\":\"amountInSD\",\"type\":\"uint64\"},{\"internalType\":\"uint64\",\"name\":\"deficitSD\",\"type\":\"uint64\"},{\"internalType\":\"bool\",\"name\":\"toOFT\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isTaxi\",\"type\":\"bool\"}],\"internalType\":\"struct FeeParams\",\"name\":\"_params\",\"type\":\"tuple\"}],\"name\":\"applyFeeView\",\"outputs\":[{\"internalType\":\"uint64\",\"name\":\"amountOutSD\",\"type\":\"uint64\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"applyFee((address,uint32,uint64,uint64,bool,bool))\":{\"details\":\"This is included for future proofing potential implementationswhere state is modified in the feeLib based on a FeeParams\"}},\"title\":\"Interface for assessing fees to send tokens to a destination endpoint.\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"applyFee((address,uint32,uint64,uint64,bool,bool))\":{\"notice\":\"Apply a fee for a given request, allowing for state modification.\"},\"applyFeeView((address,uint32,uint64,uint64,bool,bool))\":{\"notice\":\"Apply a fee for a given request, without modifying state.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/interfaces/IStargateFeeLib.sol\":\"IStargateFeeLib\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/interfaces/IStargateFeeLib.sol\":{\"keccak256\":\"0xb68a85b6c3907584364d7ce78ffe7f4aedf5ea7dd584fea7fef435a23337bf57\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://ba147545bce5ac4587b7cce6f526a9503a62ae836706f87777d646976eaacd30\",\"dweb:/ipfs/QmcwzbdrEjzgtdEejW9QcGe7B9pEGeLzonQPMRdsHfq7uo\"]}},\"version\":1}"}}}}}